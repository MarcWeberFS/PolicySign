import{s as ge,n as ue,o as De,g as ve}from"../chunks/scheduler.FWZUZH0N.js";import{S as Ee,i as Ce,e as d,s as C,c as f,g as W,a as I,h as p,f as c,b as v,d as M,k as s,n as Ie,o as y,p as A,q as G}from"../chunks/index.Dtb91vzO.js";import{e as he}from"../chunks/each.D6YF6ztN.js";import{u as pe}from"../chunks/auth.service.dktb_iH1.js";function _e(u,t,i){const a=u.slice();return a[2]=t[i],a}function me(u){let t,i;return{c(){t=d("p"),i=y(u[1]),this.h()},l(a){t=f(a,"P",{class:!0});var r=p(t);i=A(r,u[1]),r.forEach(c),this.h()},h(){v(t,"class","text-red-500 text-center")},m(a,r){M(a,t,r),s(t,i)},p(a,r){r&2&&G(i,a[1])},d(a){a&&c(t)}}}function be(u){let t,i,a,r=u[2].title+"",_,h,l,b,n,e,m="Signed by:",o,g=u[2].signedByEmail+"",z,X,k,B,w,H=u[2].status+"",F,T,Y,q,P,S,le="Created on:",Z,$=new Date(u[2].creationDate).toLocaleDateString()+"",U,ee,L,V,N,ae="Last updated:",te,j=new Date(u[2].updateDate).toLocaleDateString()+"",J,se;return{c(){t=d("div"),i=d("div"),a=d("h2"),_=y(r),h=C(),l=d("div"),b=d("div"),n=d("p"),e=d("span"),e.textContent=m,o=C(),z=y(g),X=C(),k=d("div"),B=d("div"),w=d("p"),F=y(H),Y=C(),q=d("div"),P=d("p"),S=d("span"),S.textContent=le,Z=C(),U=y($),ee=C(),L=d("div"),V=d("p"),N=d("span"),N.textContent=ae,te=C(),J=y(j),se=C(),this.h()},l(D){t=f(D,"DIV",{class:!0});var E=p(t);i=f(E,"DIV",{class:!0});var K=p(i);a=f(K,"H2",{class:!0});var ne=p(a);_=A(ne,r),ne.forEach(c),h=I(K),l=f(K,"DIV",{class:!0});var x=p(l);b=f(x,"DIV",{class:!0});var oe=p(b);n=f(oe,"P",{});var O=p(n);e=f(O,"SPAN",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-13c10p6"&&(e.textContent=m),o=I(O),z=A(O,g),O.forEach(c),oe.forEach(c),X=I(x),k=f(x,"DIV",{class:!0});var re=p(k);B=f(re,"DIV",{});var ie=p(B);w=f(ie,"P",{class:!0});var ce=p(w);F=A(ce,H),ce.forEach(c),ie.forEach(c),re.forEach(c),Y=I(x),q=f(x,"DIV",{class:!0});var de=p(q);P=f(de,"P",{});var Q=p(P);S=f(Q,"SPAN",{class:!0,"data-svelte-h":!0}),W(S)!=="svelte-1qy30zs"&&(S.textContent=le),Z=I(Q),U=A(Q,$),Q.forEach(c),de.forEach(c),ee=I(x),L=f(x,"DIV",{class:!0});var fe=p(L);V=f(fe,"P",{});var R=p(V);N=f(R,"SPAN",{class:!0,"data-svelte-h":!0}),W(N)!=="svelte-1hton06"&&(N.textContent=ae),te=I(R),J=A(R,j),R.forEach(c),fe.forEach(c),x.forEach(c),K.forEach(c),se=I(E),E.forEach(c),this.h()},h(){v(a,"class","text-xl font-bold mb-2"),v(e,"class","label svelte-e97e7b"),v(b,"class","svelte-e97e7b"),v(w,"class",T="status-label "+(u[2].status==="PENDING"?"status-pending":"status-signed")+" svelte-e97e7b"),v(k,"class","svelte-e97e7b"),v(S,"class","label svelte-e97e7b"),v(q,"class","svelte-e97e7b"),v(N,"class","label svelte-e97e7b"),v(L,"class","svelte-e97e7b"),v(l,"class","document-details svelte-e97e7b"),v(i,"class","bg-white shadow-md rounded-lg p-6"),v(t,"class","document-card w-full p-4 svelte-e97e7b")},m(D,E){M(D,t,E),s(t,i),s(i,a),s(a,_),s(i,h),s(i,l),s(l,b),s(b,n),s(n,e),s(n,o),s(n,z),s(l,X),s(l,k),s(k,B),s(B,w),s(w,F),s(l,Y),s(l,q),s(q,P),s(P,S),s(P,Z),s(P,U),s(l,ee),s(l,L),s(L,V),s(V,N),s(V,te),s(V,J),s(t,se)},p(D,E){E&1&&r!==(r=D[2].title+"")&&G(_,r),E&1&&g!==(g=D[2].signedByEmail+"")&&G(z,g),E&1&&H!==(H=D[2].status+"")&&G(F,H),E&1&&T!==(T="status-label "+(D[2].status==="PENDING"?"status-pending":"status-signed")+" svelte-e97e7b")&&v(w,"class",T),E&1&&$!==($=new Date(D[2].creationDate).toLocaleDateString()+"")&&G(U,$),E&1&&j!==(j=new Date(D[2].updateDate).toLocaleDateString()+"")&&G(J,j)},d(D){D&&c(t)}}}function xe(u){let t,i="My Documents",a,r,_,h,l=u[1]&&me(u),b=he(u[0]),n=[];for(let e=0;e<b.length;e+=1)n[e]=be(_e(u,b,e));return{c(){t=d("h1"),t.textContent=i,a=C(),l&&l.c(),r=C(),_=d("div"),h=d("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=f(e,"H1",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1fqlqb2"&&(t.textContent=i),a=I(e),l&&l.l(e),r=I(e),_=f(e,"DIV",{class:!0});var m=p(_);h=f(m,"DIV",{class:!0});var o=p(h);for(let g=0;g<n.length;g+=1)n[g].l(o);o.forEach(c),m.forEach(c),this.h()},h(){v(t,"class","text-3xl font-bold text-center mb-6"),v(h,"class","flex flex-wrap -mx-4"),v(_,"class","container mx-auto px-4")},m(e,m){M(e,t,m),M(e,a,m),l&&l.m(e,m),M(e,r,m),M(e,_,m),s(_,h);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(h,null)},p(e,[m]){if(e[1]?l?l.p(e,m):(l=me(e),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null),m&1){b=he(e[0]);let o;for(o=0;o<b.length;o+=1){const g=_e(e,b,o);n[o]?n[o].p(g,m):(n[o]=be(g),n[o].c(),n[o].m(h,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=b.length}},i:ue,o:ue,d(e){e&&(c(t),c(a),c(r),c(_)),l&&l.d(e),Ie(n,e)}}}const we="http://localhost:8080";function Pe(u,t,i){let a=[],r="";return De(async()=>{const _=ve(pe);if(_)try{const h=await fetch(`${we}/api/upload/user/${_}`,{method:"GET"});h.ok?i(0,a=await h.json()):i(1,r="Failed to fetch documents")}catch(h){console.error("Error fetching documents:",h),i(1,r="Error fetching documents")}}),ve(pe)||(window.location.href="/login"),[a,r]}class qe extends Ee{constructor(t){super(),Ce(this,t,Pe,xe,ge,{})}}export{qe as component};
