import{s as be,n as pe,o as Ce,g as _e}from"../chunks/scheduler.Dw9uJjIS.js";import{S as Ie,i as Pe,e as u,s as b,c as v,g as W,a as C,h as m,f as i,b as d,d as M,k as s,n as Se,o as L,p as A,q as G}from"../chunks/index.Bg7T64vi.js";import{e as me}from"../chunks/each.D6YF6ztN.js";import{u as ge}from"../chunks/auth.service.BEM3U0rA.js";function De(f,t,n){const o=f.slice();return o[2]=t[n],o}function Ee(f){let t,n;return{c(){t=u("p"),n=L(f[1]),this.h()},l(o){t=v(o,"P",{class:!0});var a=m(t);n=A(a,f[1]),a.forEach(i),this.h()},h(){d(t,"class","text-red-500 text-center")},m(o,a){M(o,t,a),s(t,n)},p(o,a){a&2&&G(n,o[1])},d(o){o&&i(t)}}}function we(f){let t,n,o,a,_=f[2].title+"",p,r,w,c,e,h,l,g,oe="Signed by:",X,y=f[2].signedByEmail+"",z,Y,k,P,B=f[2].status+"",F,T,Z,$,S,x,ne="Created on:",ee,H=new Date(f[2].creationDate).toLocaleDateString()+"",U,te,q,V,N,ie="Last updated:",se,j=new Date(f[2].updateDate).toLocaleDateString()+"",J,le;return{c(){t=u("div"),n=u("div"),o=u("h2"),a=u("a"),p=L(_),c=b(),e=u("div"),h=u("div"),l=u("p"),g=u("span"),g.textContent=oe,X=b(),z=L(y),Y=b(),k=u("div"),P=u("p"),F=L(B),Z=b(),$=u("div"),S=u("p"),x=u("span"),x.textContent=ne,ee=b(),U=L(H),te=b(),q=u("div"),V=u("p"),N=u("span"),N.textContent=ie,se=b(),J=L(j),le=b(),this.h()},l(D){t=v(D,"DIV",{class:!0});var E=m(t);n=v(E,"DIV",{class:!0});var K=m(n);o=v(K,"H2",{class:!0});var re=m(o);a=v(re,"A",{href:!0,download:!0});var ce=m(a);p=A(ce,_),ce.forEach(i),re.forEach(i),c=C(K),e=v(K,"DIV",{class:!0});var I=m(e);h=v(I,"DIV",{class:!0});var de=m(h);l=v(de,"P",{});var O=m(l);g=v(O,"SPAN",{class:!0,"data-svelte-h":!0}),W(g)!=="svelte-13c10p6"&&(g.textContent=oe),X=C(O),z=A(O,y),O.forEach(i),de.forEach(i),Y=C(I),k=v(I,"DIV",{class:!0});var fe=m(k);P=v(fe,"P",{class:!0});var ue=m(P);F=A(ue,B),ue.forEach(i),fe.forEach(i),Z=C(I),$=v(I,"DIV",{class:!0});var ve=m($);S=v(ve,"P",{});var Q=m(S);x=v(Q,"SPAN",{class:!0,"data-svelte-h":!0}),W(x)!=="svelte-1qy30zs"&&(x.textContent=ne),ee=C(Q),U=A(Q,H),Q.forEach(i),ve.forEach(i),te=C(I),q=v(I,"DIV",{class:!0});var he=m(q);V=v(he,"P",{});var R=m(V);N=v(R,"SPAN",{class:!0,"data-svelte-h":!0}),W(N)!=="svelte-1hton06"&&(N.textContent=ie),se=C(R),J=A(R,j),R.forEach(i),he.forEach(i),I.forEach(i),K.forEach(i),le=C(E),E.forEach(i),this.h()},h(){d(a,"href",r=`${ae}/api/upload/download/${f[2].id}`),d(a,"download",w=f[2].title+".pdf"),d(o,"class","text-xl font-bold mb-2"),d(g,"class","label svelte-u0fci"),d(h,"class","svelte-u0fci"),d(P,"class",T="status-label "+(f[2].status==="PENDING"?"status-pending":"status-signed")+" svelte-u0fci"),d(k,"class","svelte-u0fci"),d(x,"class","label svelte-u0fci"),d($,"class","svelte-u0fci"),d(N,"class","label svelte-u0fci"),d(q,"class","svelte-u0fci"),d(e,"class","document-details svelte-u0fci"),d(n,"class","bg-white shadow-md rounded-lg p-6"),d(t,"class","document-card w-full p-4 svelte-u0fci")},m(D,E){M(D,t,E),s(t,n),s(n,o),s(o,a),s(a,p),s(n,c),s(n,e),s(e,h),s(h,l),s(l,g),s(l,X),s(l,z),s(e,Y),s(e,k),s(k,P),s(P,F),s(e,Z),s(e,$),s($,S),s(S,x),s(S,ee),s(S,U),s(e,te),s(e,q),s(q,V),s(V,N),s(V,se),s(V,J),s(t,le)},p(D,E){E&1&&_!==(_=D[2].title+"")&&G(p,_),E&1&&r!==(r=`${ae}/api/upload/download/${D[2].id}`)&&d(a,"href",r),E&1&&w!==(w=D[2].title+".pdf")&&d(a,"download",w),E&1&&y!==(y=D[2].signedByEmail+"")&&G(z,y),E&1&&B!==(B=D[2].status+"")&&G(F,B),E&1&&T!==(T="status-label "+(D[2].status==="PENDING"?"status-pending":"status-signed")+" svelte-u0fci")&&d(P,"class",T),E&1&&H!==(H=new Date(D[2].creationDate).toLocaleDateString()+"")&&G(U,H),E&1&&j!==(j=new Date(D[2].updateDate).toLocaleDateString()+"")&&G(J,j)},d(D){D&&i(t)}}}function xe(f){let t,n="My Documents",o,a,_,p,r=f[1]&&Ee(f),w=me(f[0]),c=[];for(let e=0;e<w.length;e+=1)c[e]=we(De(f,w,e));return{c(){t=u("h1"),t.textContent=n,o=b(),r&&r.c(),a=b(),_=u("div"),p=u("div");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){t=v(e,"H1",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1fqlqb2"&&(t.textContent=n),o=C(e),r&&r.l(e),a=C(e),_=v(e,"DIV",{class:!0});var h=m(_);p=v(h,"DIV",{class:!0});var l=m(p);for(let g=0;g<c.length;g+=1)c[g].l(l);l.forEach(i),h.forEach(i),this.h()},h(){d(t,"class","text-3xl font-bold text-center mb-6"),d(p,"class","flex flex-wrap -mx-4"),d(_,"class","container mx-auto px-4")},m(e,h){M(e,t,h),M(e,o,h),r&&r.m(e,h),M(e,a,h),M(e,_,h),s(_,p);for(let l=0;l<c.length;l+=1)c[l]&&c[l].m(p,null)},p(e,[h]){if(e[1]?r?r.p(e,h):(r=Ee(e),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null),h&1){w=me(e[0]);let l;for(l=0;l<w.length;l+=1){const g=De(e,w,l);c[l]?c[l].p(g,h):(c[l]=we(g),c[l].c(),c[l].m(p,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=w.length}},i:pe,o:pe,d(e){e&&(i(t),i(o),i(a),i(_)),r&&r.d(e),Se(c,e)}}}const ae="http://localhost:8080";function Ve(f,t,n){let o=[],a="";return Ce(async()=>{const _=_e(ge);if(_)try{const p=await fetch(`${ae}/api/upload/user/${_}`,{method:"GET"});p.ok?n(0,o=await p.json()):n(1,a="Failed to fetch documents")}catch(p){console.error("Error fetching documents:",p),n(1,a="Error fetching documents")}}),_e(ge)||(window.location.href="/login"),[o,a]}class Le extends Ie{constructor(t){super(),Pe(this,t,Ve,xe,be,{})}}export{Le as component};
